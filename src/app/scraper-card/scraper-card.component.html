<div class="card">
  <div class="card-image">
    <div class="carousel-container">
      <button class="prev-btn" (click)="prevImage()">
        <i class="fas fa-chevron-left"></i>
      </button>
      <div class="carousel-image">
        <img [src]="currentImage" alt="Imagen de la propiedad" class="card-img-top" loading="lazy"
          [class.slide-left]="animationDirection === 'left'" [class.slide-right]="animationDirection === 'right'"
          (load)="onImageLoad()" (error)="onImageError()" (animationend)="resetAnimation()" />
      </div>
      <button class="next-btn" (click)="nextImage()">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>

    <div class="card-badge">
      <span>{{data.daysPublished}}</span>
    </div>

    <div class="card-favorite" [hidden]="!imageLoaded" (click)="toggleFavorite()" (keypress.enter)="toggleFavorite()"
      tabindex="0" role="button">
      <i [ngClass]="isFavorited ? 'fas fa-heart' : 'far fa-heart'" aria-hidden="true"
        title="{{ isFavorited ? 'Quitar de favoritos' : 'AÃ±adir a favoritos' }}"></i>
    </div>
  </div>
  <div class="card-body">
    <h5 class="card-title">{{ data.price }}</h5>
    <h6 class="card-subtitle">{{ data.titleTypeSupProperty }}</h6>
    <div class="card-details">
      <p><i class="fas fa-money-bill-wave"></i> {{ data.expenses }}</p>
      <p><i class="fas fa-map-marker-alt"></i> {{ data.location }}</p>
    </div>
    <div class="card-views">
      <p><i class="fas fa-eye"></i> {{data.views}}</p>
    </div>
    <a [href]="data.href" class="btn btn-primary" target="_blank">Ver Propiedad</a>
  </div>
</div>
